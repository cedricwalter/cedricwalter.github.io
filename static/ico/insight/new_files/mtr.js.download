/* $Id: mtr.js a9690bf 2018-04-13T16:24:58.009Z Tatiana Tun <tatiana.tun@nytimes.com> $ */
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();!function(e){"function"==typeof define&&define.amd?define("auth/gateway/creatives",[],function(){return e()}):"object"==typeof NYTD&&(NYTD.GatewayCreatives=e())}(function(){return{defaultGateway:'<span class="adxInfo mktInfo"style="display:none">campaign: default_gw, creative: gateway, source: mtr.js</span><style>@import url(https://a1.nyt.com/fonts/css/fonts.css);.font-smoothing{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#gw-bg{position:relative;margin:0 auto;width:750px;height:413px;background-color:#9bcdfd}#gw-hdr{position:absolute;top:0;width:100%;font-family:franklin-normal-500,sans-serif;text-transform:uppercase;height:27px;text-align:center;font-size:12px;color:#fff}#gw-hdr a{color:#fff;font-size:11px;line-height:18px;text-transform:none;text-decoration:underline}#bocDefaultGW-Logo{position:absolute;bottom:68px;right:44px;width:211px;height:36px}#gw-headline{position:absolute;top:0;left:0;background-color:#000;font-family:franklin-normal-600,\'Helvetica Neue\',Arial,sans-serif;font-style:normal;font-weight:600;font-size:13px;text-transform:uppercase;width:100%;height:27px;text-align:center;color:#fff;line-height:25px;z-index:9}#bocDefaultGW-headline-title{position:absolute;top:90px;left:44px;font-family:karnak-normal-400,sans-serif;font-style:normal;font-weight:400;font-size:36px;line-height:37.5px;letter-spacing:-.2px;color:#1a1a1a;z-index:9}#gw-headline-title span{font-family:franklin-normal-300,sans-serif;font-style:normal;font-weight:300;letter-spacing:-.3px}#bocDefaultGW-blackline{position:absolute;top:150px;left:45px;width:95px;border-bottom:3px solid #000}#bocDefaultGW-subhead{position:absolute;bottom:208px;left:44px;color:#000;font-family:franklin-normal-300,sans-serif;font-weight:300;font-style:normal;font-size:36px;line-height:36px;letter-spacing:-.4px}#gw-cta{font-family:franklin-normal-700,\'helvetica neue\',arial,sans-serif;font-weight:700;position:absolute;bottom:120px;left:45px;width:145px;height:38px;background:#000;font-size:15.5px;line-height:37px;text-align:center;text-decoration:none;border-radius:3px;z-index:1000000}#gw-cta a{display:block;height:100%;cursor:pointer;color:#fff;text-decoration:none;text-transform:uppercase}#gw-ftr{position:absolute;bottom:0;left:0;background-color:#fff;font-family:\'Helvetica Neue\',Arial,sans-serif;width:100%;height:32px;font-size:10px;color:#000}#cta-extended{width:100%}#login_elements{position:absolute;bottom:14px;left:44px;color:#000;z-index:10000;font-family:\'helvetica neue\',arial,sans-serif;font-size:10px}#login_elements a{color:#000;text-decoration:underline}#gw-linkhd a{text-decoration:underline}#gw-linkhd{position:absolute;bottom:14px;right:45px;color:#000;z-index:1000000;font-family:\'helvetica neue\',arial,sans-serif;font-size:10px}#gw-linkhd a{color:#000}#gw-bg .hidden,.adx-info,.hide_login{display:none}.gw-clickable{width:750px;height:426px}#gw-container{position:relative;margin:0 auto;width:750px;-webkit-font-smoothing:antialiased}</style><div class="font-smoothing"id="gw-container"><div id="gw-headline">YOU HAVE REACHED YOUR FREE ARTICLE LIMIT FOR THE MONTH.</div><div id="gw-cta"><a href="https://www.nytimes.com/subscriptions/Multiproduct/lp8HYKU.html?campaignId=6KYF6"id="cta-extended"target="_blank">SEE MY OPTIONS</a></div><div id="gw-linkhd">Home delivery subscriber? <a href="https://myaccount.nytimes.com/link/homedelivery"target="_blank">Link account.</a></div><div class="hide_login"id="login_elements">Already a digital subscriber? <a class="gw-loginlink"href="https://myaccount.nytimes.com/auth/login"id="gw-login-btn">Log in.</a></div><div id="gw-bg"><div id="gw-hdr"></div><a href="https://www.nytimes.com/subscriptions/Multiproduct/lp8HYKU.html?campaignId=6KYF6"target="_blank"><div class="gw-clickable"id="gw-body"><svg aria-label="The New York Times"id="bocDefaultGW-Logo"><image alt="The New York Times"border="0"height="100%"src="//cdn.optimizely.com/img/3013110282/b5568a31e87c4256984a4754cb1072dc.png"width="100%"xlink:href="https://static01.nyt.com/marketing/assets/2017/nyt-logo-379x64.svg"></image></svg><div id="bocDefaultGW-headline-title">Invite a new subject into your life.</div><div id="bocDefaultGW-blackline"></div><div id="bocDefaultGW-subhead">Subscribe to The Times.</div></div></a><div id="gw-ftr"></div></div></div><script src="https://mwcm.nyt.com/dam/mkt_assets/exo/gateway/gw_nyt_4-5_select.js"></script>',defaultGrowl:{ads:{Left9:{campaign:"default_growl",campaignId:"001",campaignName:"default_growl",classification:"Growl",creative:'<span class="adxInfo mktInfo"style="display:none">campaign: default_growl, creative: growl, source: mtr.js</span><style>.font-smoothing{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.nowrap{white-space:nowrap}.growl-exp{opacity:0;height:100%;position:absolute;top:0;z-index:998;-webkit-transition:opacity .45s ease-out,.5s;transition:opacity .45s ease-out,.5s}.growl-exp.show-medium{opacity:1;z-index:999}.growl-exp.hide-medium{opacity:0;z-index:998}.growl-exp .growl-exp--header{z-index:11111111111;opacity:1}.growl-exp .growl-exp--header .closeAsset{cursor:pointer}.growl-exp .growl-exp--header .closeAsset .arrow-icon-expGrowl{height:63px;width:63px;position:absolute;top:-10px;right:-4px;-webkit-transform:rotate(90deg);transform:rotate(90deg);z-index:11111111}@media only screen and (max-width:988px){.growl-exp .growl-exp--header .closeAsset .arrow-icon-expGrowl{height:45px;width:45px;top:-8px;right:-6px}}@media only screen and (max-width:768px){.growl-exp .growl-exp--header .closeAsset .arrow-icon-expGrowl{top:-36px;right:-1px}}.growl-exp .growl-exp--header .closeAsset .arrow-icon-expGrowl .arrow-icon--path-expGrowl{fill:none;stroke:#9B9B9B;stroke-width:2;stroke-miterlimit:10;-webkit-transition:stroke .3s ease-in,1s;transition:stroke .3s ease-in,1s}@media only screen and (max-width:768px){.growl-exp .growl-exp--header .closeAsset .arrow-icon-expGrowl .arrow-icon--path-expGrowl{stroke:#fff}}.growl-exp .growl-exp--header .closeAsset .arrow-icon-expGrowl .arrow-icon-expGrowl:hover .arrow-icon--path-expGrowl{height:75px;width:75px}.growl-col{opacity:1;width:100%;height:60px;position:relative;padding:10px 0;z-index:999;-webkit-transition:opacity .25s ease-in,0s;transition:opacity .25s ease-in,0s}.growl-col.hide-small{display:none;z-index:998}.growl-col.show-small{opacity:1;z-index:999}.growl-col .growl-col--inner{width:100%;height:100%}.growl-col .growl-col--inner p{line-height:16px;padding-top:0}.growl-col .growl-col--inner .rem-arts-small-container h3{font-size:24px;font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif;font-style:normal;font-weight:500;color:#2D2D2D;margin:0 0 8px 0}@media only screen and (max-width:1024px){.growl-col .growl-col--inner .rem-arts-small-container h3{font-size:18px;margin:0 0 5px 0}}@media only screen and (max-width:768px){.growl-col .growl-col--inner .rem-arts-small-container h3{display:none}}.growl-col .growl-col--inner .rem-arts-small-container p{text-transform:uppercase;font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif;color:#2D2D2D;font-size:9px;font-weight:600}@media only screen and (max-width:1046px){.growl-col .growl-col--inner .rem-arts-small-container p.articles-remain-copy{display:none}}.growl-col .growl-col--inner .rem-arts-small-container p.articles-remain-copy-smallScrn{display:none}@media only screen and (max-width:1046px){.growl-col .growl-col--inner .rem-arts-small-container p.articles-remain-copy-smallScrn{display:block;line-height:9px;margin:0!important}}@media only screen and (min-width:769px){.growl-col .growl-col--inner .rem-arts-small-container{position:relative;top:-4px;left:2px;text-align:center;width:10%;float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 4px 4px}}@media only screen and (max-width:1024px){.growl-col .growl-col--inner .rem-arts-small-container{width:10%;padding:0;top:-2px}}@media only screen and (max-width:768px){.growl-col .growl-col--inner .rem-arts-small-container{display:none}}.growl-col .growl-col--inner .growl-col--inner__tagline{position:relative;top:10px;width:68%;-webkit-box-sizing:border-box;box-sizing:border-box;padding-left:2%;padding-right:2%;text-align:left;float:left;letter-spacing:.001em}@media only screen and (max-width:768px){.growl-col .growl-col--inner .growl-col--inner__tagline{display:block!important}}.growl-col .growl-col--inner .growl-col--inner__tagline .tagline-offer-text{font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif;font-style:normal;font-weight:500;color:#2D2D2D;font-size:18px}@media only screen and (max-width:1024px){.growl-col .growl-col--inner .growl-col--inner__tagline .tagline-offer-text{padding-top:0;font-size:16px}}@media only screen and (max-width:768px){.growl-col .growl-col--inner .growl-col--inner__tagline .tagline-offer-text{margin:0!important;padding-top:0!important;font-size:13px;display:inline-block!important}}.growl-col .growl-col--inner .growl-col--inner__tagline .tagline-bold{font-weight:700;color:#303538}.growl-col .growl-col--inner .growl-col--inner__tagline a.cta-smallScrn{display:none}@media only screen and (max-width:768px){.growl-col .growl-col--inner .growl-col--inner__tagline a.cta-smallScrn{font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif;color:#2D2D2D;font-size:13px;font-style:normal;font-weight:600;text-decoration:underline;text-transform:capitalize;display:inline-block}}@media only screen and (max-width:1024px){.growl-col .growl-col--inner .growl-col--inner__tagline{top:3px;width:66%}}@media only screen and (max-width:768px){.growl-col .growl-col--inner .growl-col--inner__tagline{width:100%;top:7px}}.growl-col .growl-col--inner .col__cta-container{position:absolute;top:9px;right:56px}.growl-col .growl-col--inner .col__cta-container .cta-wrapper{float:left;position:relative;top:6px}@media only screen and (max-width:1024px){.growl-col .growl-col--inner .col__cta-container .cta-wrapper{top:0}}@media only screen and (max-width:768px){.growl-col .growl-col--inner .col__cta-container .cta-wrapper{display:none}}@media only screen and (max-width:1024px){.growl-col .growl-col--inner .col__cta-container{top:6px}}@media only screen and (max-width:768px){.growl-col .growl-col--inner .col__cta-container{display:block!important}}@media only screen and (max-width:1024px){.growl-col .growl-col--inner .separator-small{top:-6px}}@media only screen and (max-width:768px){.growl-col .growl-col--inner .separator-small{display:none}}@media only screen and (max-width:768px){.growl-col .growl-col--inner{display:block!important}}.growl-col .separator-small{width:1px;height:100%;background-color:#CCC;float:left;position:relative;top:-10px}@media only screen and (max-width:1024px){.growl-col{padding:6px 0}}.login-wrapper{position:relative;top:12px;display:inline-block;float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding-left:5px}@media only screen and (max-width:1024px){.login-wrapper{line-height:0;padding-top:8px;position:relative;top:6px;margin-right:0;width:inherit}}@media only screen and (max-width:768px){.login-wrapper{top:-26px;left:100%}.login-wrapper a{color:#fff;font-size:10px}}@media only screen and (max-width:1024px){.subscriber-copy-already{display:none}}.subscriber-copy-login-small{display:none}@media only screen and (max-width:1024px){.subscriber-copy-login-small{display:block;float:left;padding-left:3px}}.user-logged-in .growl-wrapper.getMedium .expanded_login_link,.user-logged-in .subscriber-link{display:none}#instl,#instl_container,#instl_supercontainer{display:none}.growl_open{width:96%}@media only screen and (min-width:769px){.growl_open .bug_open{display:none}}.growl-wrapper{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#EFEFEF;overflow:hidden;padding:0;max-width:1170px;height:60px;position:fixed;margin:0 0 8px 2%;left:0;right:0;bottom:-80px;-webkit-box-shadow:0 0 14px 0 rgba(0,0,0,.23);box-shadow:0 0 14px 0 rgba(0,0,0,.23);z-index:1000000100;-webkit-transition:height .6s ease-in-out,.25s;transition:height .6s ease-in-out,.25s;border-radius:2px}.growl-wrapper .smallScrn-meterCount{display:none}.growl-wrapper .smallScrn-meterCount .expanded_login_link{font-weight:700;color:#fff;text-transform:uppercase;right:60px;position:absolute;top:0;display:none}@media only screen and (max-width:768px){.growl-wrapper .smallScrn-meterCount{display:block;position:relative;width:100%;height:24px;line-height:24px;background-color:#000;font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif;font-style:normal;font-weight:500;font-size:10px;color:#fff;padding-left:2%}.growl-wrapper .smallScrn-meterCount .growl-loginlink{color:#fff}}.growl-wrapper.getMedium{height:330px;padding:0}@media only screen and (max-width:988px){.growl-wrapper.getMedium{height:280px}}@media only screen and (max-width:680px){.growl-wrapper.getMedium{height:220px}}.growl-wrapper.getMedium .expanded_login_link{display:block}.growl-wrapper .growl_bug_container svg{position:absolute;top:50%;margin-top:-7px;left:50%;margin-left:-4.5px}@media only screen and (min-width:769px){.growl-wrapper .growl_bug_container{position:absolute;right:0;top:0;width:2%;height:100%;background-color:#ADADAD;cursor:pointer;z-index:1000;border-bottom-right-radius:2px;border-top-right-radius:2px}}@media only screen and (max-width:768px){.growl-wrapper .growl_bug_container{display:none}}@media only screen and (min-width:1238px){.growl-wrapper{margin:0 0 8px calc((100% - 1170px)/ 2)}}@media only screen and (max-width:1024px){.growl-wrapper{height:40px}}@media only screen and (max-width:768px){.growl-wrapper{height:70px;width:100%;-webkit-box-shadow:none;margin:0;box-shadow:none}}.growl-wrapper--inner{width:100%;position:relative}.growl-wrapper--inner p{font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif}.growl-wrapper--inner .cta-btn{background-color:#000;height:30px;width:130px;text-align:center;text-transform:uppercase;font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif;color:#fff;font-size:11px;font-style:normal;font-weight:700;border-radius:4px;border:none;-webkit-transition:all .3s 0s,.4s;transition:all .3s 0s,.4s;display:inline-block;line-height:28px;text-decoration:none;-webkit-box-sizing:border-box;box-sizing:border-box}.growl-wrapper--inner .cta-btn:hover{color:#2D2D2D;background-color:transparent;border:1px solid #2D2D2D}.growl-wrapper--inner .cta-btn:active{border:none;-webkit-box-shadow:none;box-shadow:none}.expanded_left{-webkit-box-sizing:border-box;box-sizing:border-box;width:60%;height:100%;background-color:#ccc;float:left;padding:2%;box-sizing:border-box}@media only screen and (max-width:620px){.expanded_left{width:100%}}.expanded_left .small_width_cta.cta-btn{display:none}@media only screen and (max-width:768px){.expanded_left .small_width_cta.cta-btn{display:inline-block;margin-top:1em}}.expanded_left .expanded_left__inner{opacity:0;top:400px;-webkit-transition:all .25s ease-in-out,.85s;transition:all .25s ease-in-out,.85s;width:100%}.expanded_left .expanded_left__inner .show-medium-inner{opacity:1;top:0}.expanded_left .expanded_left__inner .striker-growl-exp{position:relative;color:#7a9f7e}.expanded_left .expanded_left__inner .striker-growl-exp::before{position:absolute;width:100%;height:3px;background-color:#fd432e;content:"";bottom:39%}.expanded_left .sale-hero{float:right;-webkit-box-sizing:border-box;box-sizing:border-box;width:174px;height:233px;padding-right:5%}.expanded_left .show-medium-inner{opacity:1;top:0;float:left}.expanded_left p:last-of-type{margin-bottom:0}.expanded_left .meter-wrap{font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif;font-style:normal;font-weight:600;font-size:14px;color:#fff;font-weight:500;position:absolute;bottom:23px}@media only screen and (max-width:768px){.expanded_left .meter-wrap{display:none}}.expanded_left .meter-wrap .articles-remain-copy{text-transform:lowercase}.expanded_right{position:relative;width:40%;background-color:#F6F6F6;height:100%;float:left;-webkit-box-sizing:border-box;box-sizing:border-box}@media only screen and (max-width:768px){.expanded_right{background-color:#ccc}}@media only screen and (max-width:620px){.expanded_right{display:none}}@media only screen and (max-width:768px){.expanded_right .subscriber-link{display:none}}.expanded_right .expanded_right--inner{position:absolute;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:100%;height:100%;text-align:center;opacity:0;top:300px;-webkit-transition:all .25s ease-in-out,.85s;transition:all .25s ease-in-out,.85s;-webkit-box-sizing:border-box;box-sizing:border-box}.expanded_right .expanded_right--inner .growl_bundle_lockup{width:198px;margin-bottom:10px}.expanded_right .expanded_right--inner.show-medium-inner{opacity:1;top:50%}@media only screen and (max-width:768px){.expanded_right .expanded_right--inner{width:100%;height:auto}}@media only screen and (max-width:768px){.hide_content_small{display:none}}.arrow-icon{-webkit-transition:left .3s ease-in,0s;transition:left .3s ease-in,0s;height:19.5px;width:19.5px;display:inline;position:relative;top:6.5px;left:-6px;padding-bottom:1px}.arrow-icon .arrow-icon--path{fill:none;stroke:#ABABAB;stroke-width:2;stroke-miterlimit:10;-webkit-transition:stroke .3s ease-in,0s;transition:stroke .3s ease-in,0s}.subscriber-link{margin:0 auto;left:13px;right:0;bottom:23px;text-align:center}.getMedium .subscriber-link{position:absolute}.subscriber-link a{color:#9B9B9B;text-decoration:none;font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif;font-style:normal;font-weight:500;font-size:14px;-webkit-transition:color .1s ease-in,0s;transition:color .1s ease-in,0s;white-space:nowrap}.subscriber-link a:hover{color:#2D2D2D}.subscriber-link a:hover .arrow-icon{left:-1px}.subscriber-link a:hover .arrow-icon .arrow-icon--path{stroke:#2D2D2D}.notransition{-webkit-transition:none!important;transition:none!important}.growl_closed .cta-wrapper{display:none}@media only screen and (min-width:769px){.growl_closed .growl-col--inner .rem-arts-small-container{width:83.3333%;background-color:#EFEFEF;z-index:99999;max-width:117px}}@media only screen and (min-width:769px){.growl_closed .bug_collapse{display:none}}@media only screen and (min-width:769px){.growl_closed .growl_bug_container{width:16.6666%}}@media only screen and (min-width:769px){.growl_closed .separator-small{display:none}}@media only screen and (min-width:769px){.growl_closed{width:11.52%;max-width:141px}}@media only screen and (min-width:769px){.meter-5 .growl_bug_container{display:none}}@media only screen and (min-width:769px){.meter-10 .growl_bug_container{display:none}}.growl-wrapper--inner .cta-btn{background-color:#9BCDFD;border:1px solid #9BCDFD;color:#000}@media only screen and (max-width:768px){.growl-wrapper--inner .cta-btn{background-color:#000;color:#fff}}.expanded_left{background-color:#9BCDFD}@media only screen and (max-width:768px){.expanded_right{background-color:#9BCDFD}}.growl-col .growl-col--inner .growl-col--inner__tagline .tagline-offer-text{font-family:nyt-karnak-display,nyt-karnak-display-130124,georgia,"times new roman",times,serif}.exo_mc2 .growl-col .growl-col--inner .growl-col--inner__tagline .tagline-offer-text{font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif}.main_headline{font-family:nyt-karnak-display,nyt-karnak-display-130124,georgia,"times new roman",times,serif;font-style:normal;font-weight:400;color:#000;font-size:40px;line-height:40px;width:88%;margin-top:70px}@media only screen and (max-width:786px){.main_headline{font-size:27px;margin-top:30px}}.right_panel_headline{color:#2D2D2D;font-family:nyt-franklin,"Helvetica Neue",Arial,sans-serif;font-style:normal;font-weight:300;font-size:22px;line-height:1.5;text-align:center;margin-bottom:25px}@media only screen and (max-width:988px){.right_panel_headline{font-size:18px}}.expanded_right .expanded_right--inner .growl_bundle_lockup{margin-top:75px}@media only screen and (max-width:988px){.expanded_right .expanded_right--inner .growl_bundle_lockup{margin-top:40px}}@media only screen and (max-width:768px){.expanded_right .expanded_right--inner .growl_bundle_lockup{margin-top:0}}</style><div class="growl-wrapper growl_open font-smoothing"><div class="smallScrn-meterCount"><span class="js-smallScrn-meterCount__count">&nbsp;</span> <span class="js-smallScrn-meterCount__copy">ARTICLES REMAINING</span></div><div id="growl_bug"class="growl_bug_container"><svg class="bug_collapse"width="9"height="14"viewBox="0 0 9 14"xmlns="http://www.w3.org/2000/svg"><g stroke="#FFF"stroke-width="3"fill="none"fill-rule="evenodd"stroke-linecap="square"><path d="M6.583 11.545L2.417 7M2.417 7l4.166-4.545"/></g></svg> <svg class="bug_open"width="9"height="14"viewBox="0 0 9 14"xmlns="http://www.w3.org/2000/svg"><title>Group 3</title><g stroke="#FFF"stroke-width="3"fill="none"fill-rule="evenodd"stroke-linecap="square"><path d="M2.417 2.455L6.583 7M6.583 7l-4.166 4.545"/></g></svg></div><div class="growl-col growl-wrapper--inner"><div class="growl-col--inner"><div class="rem-arts-small-container"><h3 class="js-articles-remain-count">&nbsp;</h3><p class="articles-remain-copy">ARTICLES REMAINING</p><p class="articles-remain-copy-smallScrn">REMAINING</p></div><div class="separator-small"></div><div class="growl-col--inner__tagline"><div class="tagline-offer-text">One subscription. Endless discovery.</div><a href="https://www.nytimes.com/subscriptions/Multiproduct/lp8HYKU.html?campaignId=6KY8J"class="cta-smallScrn"target="_blank">SEE MY OPTIONS</a></div><div class="col__cta-container"><div class="cta-wrapper"><a href="https://www.nytimes.com/subscriptions/Multiproduct/lp8HYKU.html?campaignId=6KY8J"class="cta-btn"id="cta-link-collapsed"target="_blank">SEE MY OPTIONS</a></div><div class="login-wrapper subscriber-link"><a href="https://myaccount.nytimes.com/auth/login"class="growl-loginlink"><span class="subscriber-copy-already">Subscriber login</span> <span class="subscriber-copy-login-small">Log in</span></a></div></div></div></div><div class="growl-exp growl-wrapper--inner"><div class="growl-exp--header"><a data-content-placement="1"class="closeAsset"><svg class="arrow-icon-expGrowl"xmlns="http://www.w3.org/2000/svg"viewbox="0 0 19.3 19.5"><path class="arrow-icon--path-expGrowl"d="M8.7 7.1l3.4 3.6M8.7 12.8l3.4-3.5"></path></svg></a></div><div class="expanded_left"><div class="expanded_left__inner"><div class="main_headline">One subscription.<br>Endless discovery.</div><a href="https://www.nytimes.com/subscriptions/Multiproduct/lp8HYKU.html?campaignId=6KY8J"class="small_width_cta cta-btn"id="cta-link-expanded-small"target="_blank">SEE MY OPTIONS</a></div><p class="meter-wrap"><span class="js-articles-remain-count">&nbsp;</span> <span class="articles-remain-copy">articles remaining</span> this month</p></div><div class="expanded_right"><div class="expanded_right--inner"><svg class="growl_bundle_lockup"viewBox="0 0 289 102"xmlns="http://www.w3.org/2000/svg"><title>Untitled-3</title><g fill-rule="nonzero"fill="none"><path fill="#333"d="M193 33h39v24h-39zM193 66h18v27h-18zM213 66h19v27h-19zM234 33h27v8h-27zM234 43h16v50h-16zM252 43h16v50h-16zM193 59h39v5h-39z"/><path d="M284 17V0h-92v5h-11v40h2V7h95v87.6c0 2.1 1.4 3.9 2.7 5.4h-92.1c-.3.7-.8 1.3-1.4 1.8.6.1 1.2.2 1.8.2h94c4 0 6-4 6-10V17h-5zM121 94.8V92H91.7c.1 1.8-1.7 3.3-3.9 3.3H76.2c-2.2 0-3.9-1.5-3.9-3.3H17V9.3c0-1.8.5-2.3 2.3-2.3h125.4c1.8 0 2.3.5 2.3 2.3V13h3V6.8c0-3.8-3-6.8-6.8-6.8H20.8C17 0 14 3 14 6.8V92H0c-.1 5.5 5.3 10 11.9 10h113.3c-2.5-1.4-4.2-4.1-4.2-7.2z"fill="#333"/><path d="M161 98v-2h-35.1c-2.2 0-2-.8-2-3.1V23.1c0-2.3-.2-3.1 2-3.1h46.2c2.2 0 2 .8 2 3.1V45h1.9V21.2c0-4-3.1-7.2-7-7.2h-40c-3.9 0-7 3.2-7 7.2v73.5c0 4 3.1 7.2 7 7.2h34c-1.2-.8-2-2.3-2-3.9z"fill="#333"/><path d="M180.5 75.1c-.5 1.3-1.4 2.3-2.7 2.9v-2.9l1.6-1.4-1.6-1.4v-2c1.4-.1 2.4-1.2 2.4-2.5 0-1.7-1.6-2.3-2.5-2.3-.2 0-.4 0-.7.1v.1h.4c.6 0 1.1.3 1.1.9 0 .4-.4.9-1 .9-1.6 0-3.4-1.3-5.5-1.3-1.8 0-3 1.3-3 2.7 0 1.3.8 1.8 1.6 2.1v-.1c-.3-.2-.4-.4-.4-.9 0-.6.6-1.1 1.3-1.1 1.7 0 4.4 1.4 6.2 1.4h.2v2l-1.6 1.4 1.6 1.4V78c-.7.2-1.3.3-2 .3-2.6 0-4.3-1.6-4.3-4.3 0-.6.1-1.3.3-1.9l1.3-.6v5.9l2.7-1.2v-6L172 72c.4-1.2 1.2-2 2.2-2.5v-.1c-2.6.6-5.2 2.6-5.2 5.6 0 3.5 2.9 5.9 6.3 5.9 3.2.1 5.3-2.3 5.2-5.8z"fill="#262626"/><path d="M184 46h-18c-2.2 0-4 1.8-4 4v48c0 2.2 1.8 4 4 4h18c2.2 0 4-1.8 4-4V50c0-2.2-1.8-4-4-4zm3 48.9c0 1.2.1 2.1-1.1 2.1h-21.8c-1.2 0-1.1-.9-1.1-2.1V53.1c0-1.2-.1-2.1 1.1-2.1h21.8c1.2 0 1.1.9 1.1 2.1v41.8z"fill="#333"/><path d="M204.6 19c0-.7-.6-.8-1.1-.8v.1c.3 0 .5.1.5.3 0 .1-.1.3-.4.3-.2 0-.7-.1-1.1-.3-.4-.1-.8-.3-1.1-.3-.6 0-1.1.5-1.1 1.1 0 .5.4.7.5.7V20c-.1-.1-.2-.1-.2-.3 0-.1.1-.4.5-.4.3 0 .7.1 1.2.3.5.1.9.2 1.2.3v1l-.5.4.5.4v1.4c-.3.2-.6.2-.8.2-.5 0-.9-.1-1.3-.5l1.4-.7V20l-1.7.7c.2-.4.5-.7.9-.9v-.1c-1 .3-1.9 1.2-1.9 2.3 0 1.3 1.1 2.3 2.3 2.3 1.3 0 2.2-1 2.2-2.2h-.1c-.2.4-.5.8-.9 1v-1.4l.5-.4-.5-.4v-1c.5 0 1-.3 1-.9zm-2.9 3.7l-.4.2c-.2-.3-.4-.7-.4-1.3 0-.2 0-.5.1-.7l.7-.3v2.1zm3.5.7l-.4.3.1.1.2-.2.7.7 1-.7v-.1l-.3.2-.3-.3v-2.3l.3-.2.6.5v2c0 1.3-.3 1.5-.8 1.7v.1c.9 0 1.8-.3 1.8-1.9v-2.2l.3-.2-.1-.1-.3.2-.8-.7-.9.7v-2.7h-.1l-1.2.8v.1c.1.1.3.1.3.5v3.7h-.1zm6.1-.4l-.8.6-.8-.7v-.4l1.6-1-.8-1.2-1.7.9v2.2l-.3.3.1.1.3-.2 1.1.8 1.3-1.4zm-1.7-.5v-1.6h.1l.7 1.1-.8.5zm8-3.8c0-.1 0-.2-.1-.3h-.1c-.1.3-.2.4-.6.4-.3 0-.5-.2-.6-.3l-.9 1.1.1.1.3-.3c.2.2.4.3.8.3v2.8l-1.9-3.4c-.1-.3-.4-.6-.9-.6s-1 .5-.9 1.2h.1c0-.2.1-.4.4-.4.2 0 .3.2.4.3v1.1c-.6 0-1 .3-1 .8 0 .3.1.7.5.8v-.1c-.1-.1-.1-.1-.1-.2 0-.2.1-.3.4-.3h.2V23c-.7 0-1.2.4-1.2 1.1 0 .6.5.9 1.1.9v-.1c-.4 0-.5-.2-.5-.4 0-.3.2-.4.5-.4s.5.2.7.4l1-1.1-.1-.1-.2.3c-.4-.3-.6-.4-1-.5v-3.3l2.7 4.7h.2v-4.6c.2-.3.7-.6.7-1.2zM220 23l-.8.6-.8-.7v-.4l1.6-1-.8-1.2-1.7.9v2.2l-.3.3.1.1.3-.2 1.1.8L220 23zm-1.6-.5v-1.6h.1l.7 1.1-.8.5zm7-1.8l-.2.2-.6-.5-.7.7.3.3v2.5l-.8-.5v-2l.3-.2-.8-.7-.7.7.3.3v2.4l-.1.1-.7-.5v-2c0-.5-.2-.6-.5-.8-.2-.2-.4-.3-.4-.5s.2-.3.3-.4v-.1c-.3 0-1 .3-1 .9 0 .3.1.5.3.6.2.2.3.3.3.6v1.9l-.4.3.1.1.3-.3.9.7.8-.6.9.6 1.8-1v-2.2l.3-.6zm6.2-1.8l-.3.3-.7-.6-1.1.8v-.8h-.1V24c-.1 0-.4-.1-.6-.1v-4.5c0-.3-.2-.8-.8-.8-.6 0-1 .5-1 .9h.1c0-.2.1-.4.3-.4.2 0 .4.1.4.6V21c-.6 0-1 .4-1 .8 0 .3.1.7.5.7v-.1l-.2-.2c0-.2.2-.3.4-.3h.1V24c-.5.2-.7.5-.7.9 0 .6.4 1 1.1 1 .5 0 .9-.1 1.3-.2.3-.1.7-.1.9-.1.3 0 .4.1.4.3 0 .2-.1.3-.2.4v.1c.5-.1.9-.4.9-.9s-.5-.8-1-.8c-.3 0-.8.1-1.2.2-.5.1-.9.1-1.1.1-.2 0-.5-.1-.5-.4 0-.3.2-.5.8-.5.3 0 .7 0 1 .1.4.1.8.2 1.1.2.5 0 .9-.2.9-.9v-4.1l.3-.5zm-1.4 2c-.1.1-.2.2-.4.2s-.3-.1-.4-.2v-1.5l.3-.2.5.4v1.3zm0 1c-.1-.1-.2-.2-.4-.2s-.3.1-.4.2V21c.1.1.2.2.4.2s.3-.1.4-.2v.9zm0 1.5c0 .3-.2.5-.5.5h-.3V22c.1-.1.2-.2.4-.2s.3.1.4.2v1.4zm4.6-2.3l-1.1-.8-1.6.9v2.2l-.3.3v.1l.3-.2 1.1.8 1.6-1v-2.3zm-1.8 2.1v-2.4l.8.6v2.4l-.8-.6zm4.9-2.8c-.2.1-.3.1-.4.1-.1 0-.3-.1-.4-.2h-.1l-.6.6-.6-.6-1 .7v.1l.3-.2.3.4v2.1l-.4.3.1.1.2-.2.8.7 1-.7v-.1l-.3.2-.4-.3v-2.3c.2.2.4.3.6.3.6 0 .9-.5.9-1zm4 3.2l-1.1.7-1.5-2.3 1.1-1.7h.1c.1.1.3.3.6.3.2 0 .4-.1.5-.3h.1c0 .7-.5 1.1-.8 1.1-.3 0-.5-.2-.7-.3l-.1.2 1.7 2.5.1-.2zm-3.6-.2l-.4.3.1.1.2-.2.7.7 1-.7-.1-.1-.3.2-.3-.3v-5.1h-.1l-1.2.8v.1c.1.1.3.1.3.5v3.7h.1zm9.1-4.4c0-.7-.6-.8-1.1-.8v.1c.3 0 .5.1.5.3 0 .1-.1.3-.4.3-.2 0-.7-.1-1.1-.3-.4-.1-.8-.3-1.1-.3-.6 0-1.1.5-1.1 1.1 0 .5.4.7.5.7V20c-.1-.1-.2-.1-.2-.3 0-.1.1-.4.5-.4.3 0 .7.1 1.2.3.4.1.9.2 1.2.3v1l-.5.4.5.4v1.4c-.3.2-.6.2-.8.2-.5 0-.9-.1-1.3-.5l1.4-.7V20l-1.7.7c.2-.4.5-.7.9-.9v-.1c-1 .3-1.9 1.2-1.9 2.3 0 1.3 1.1 2.3 2.3 2.3 1.3 0 2.2-1 2.2-2.2h-.1c-.2.4-.5.8-.9 1v-1.4l.5-.4-.5-.4v-1c.5 0 1-.3 1-.9zm-2.9 3.7l-.4.2c-.2-.3-.4-.7-.4-1.3 0-.2 0-.5.1-.7l.7-.3v2.1zm4.1-4l-.7.6.6.6h.1l.7-.6-.7-.6zm1 4.9l-.3.2-.3-.3v-2.3l.3-.2-.1-.1-.2.1-.6-.7-.9.7.1.1.2-.2.3.4v2.1l-.4.3v.1l.2-.2.7.7 1-.7zm5.5-.1l-.2.2-.4-.3v-2.2l.3-.3-.1-.1-.3.2-.8-.7-1 .7-.7-.7-1 .7-.6-.7-.9.7v.1l.2-.2.3.4v2.1l-.3.3.8.6.7-.7-.3-.3v-2.2l.3-.2.5.5v2l-.3.3.8.6.7-.7-.3-.3V21l.3-.2.5.5v2l-.2.2.8.7 1.2-.7zm2.9-.5l-.8.6-.8-.7v-.4l1.6-1-.8-1.2-1.7.9v2.2l1.1.8L258 23zm-1.7-.5v-1.6h.1l.7 1.1-.8.5zm4.7-.3l-.6-.5c.4-.4.6-.9.6-1.2v-.2h-.1c-.1.2-.2.3-.4.3-.3 0-.4-.1-.6-.3l-1.5.8v1.2l.6.4c-.6.5-.7.8-.7 1.1 0 .3.2.6.4.7v-.1c-.1-.1-.1-.1-.1-.3 0-.1.1-.3.4-.3.3 0 .5.2.6.3l1.4-.9v-1zm-.4-1c-.2.4-.7.8-1 1l-.4-.3v-1.2c.1.3.5.6.9.6.3 0 .4 0 .5-.1zm-.5 2.6c-.2-.4-.6-.6-.9-.6-.1 0-.4 0-.6.2.1-.3.6-.7 1.2-1.1l.4.3v1.2h-.1z"fill="#000"/></g></svg><div class="hide_content_small"><div class="right_panel_headline">Discover all that The Times has <span class="nowrap">to offer.</span></div><a href="https://www.nytimes.com/subscriptions/Multiproduct/lp8HYKU.html?campaignId=6KY8J"class="cta-btn"id="cta-link-expanded"target="_blank">SEE MY OPTIONS</a></div></div><p class="subscriber-link"><a href="https://myaccount.nytimes.com/auth/login"class="growl-loginlink">Already a subscriber? Log in <svg class="arrow-icon"xmlns="http://www.w3.org/2000/svg"viewbox="0 0 19.3 19.5"><path class="arrow-icon--path"d="M8.7 7.1l3.4 3.6M8.7 12.8l3.4-3.5"></path></svg></a></p></div></div></div>',creativeId:0,height:"120",isDirectlySold:"true",isInlineSafe:"Y",paid_post_tracking_url:"",paid_post_url:"",priority:"9000",width:"120"}},isDefault:!0}}}),function(e){"function"==typeof define&&define.amd?define("ecomm/url",["jquery/nyt"],function(t){return e(t)}):"object"==typeof NYTD&&(NYTD.Ecomm=NYTD.Ecomm||{},NYTD.Ecomm.Url=e(NYTD.jQuery||window.jQuery))}(function(e){return{parseUri:function(e){var t=e;("string"!=typeof t||null===t.match(/http|http/gim))&&(t="");for(var n={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},o=n.parser[n.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[n.key[a]]=o[a]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(e,t,o){t&&(i[n.q.name][t]=o)}),i},parseCurrentUri:function(){return this.parseCurrentUri.result||(this.parseCurrentUri.result=this.parseUri(this.getLocationHref())),this.parseCurrentUri.result},getLocationHref:function(){return location.href},getParameter:function(e){var t=this.parseCurrentUri();return t.queryKey[e]},appendParamsToUrl:function(t,n){if(!t)return null;if(!n||"object"!=typeof n||n instanceof Array)return t;var o=void 0,i=void 0,a={},r=t;return r.indexOf("?")>-1?(o=r.split("?"),i=o[0],a=this.parseUri(r).queryKey):i=r,a=e.extend({},a,n),i+"?"+e.param(a)},getDomain:function(e){var t="string"==typeof e?e:"",n=t.match(/^https?\:\/\/([^\/:?#]+)(?:[\/:?#]|$)/i);return n?n[1]:void 0},processUrlHref:function(t,n){if(!(t instanceof e)||"object"!=typeof n)return!1;var o=t.attr("href");return!o||o.match(/^javascript:/i)||o.match(/^mailto:/i)||o.match(/^tel:/i)||o.match(/#/)?!1:(o=this.appendParamsToUrl(o,n),void t.attr("href",o))}}}),function(e){"function"==typeof define&&define.amd?define("ecomm/cookies",[],function(){return e()}):"object"==typeof NYTD&&(NYTD.Ecomm=NYTD.Ecomm||{},NYTD.Ecomm.Cookies=e())}(function(){return{getMeterCookieCount:function(){var e=this.getDocumentCookies().match(/v=i.([0-9]+)/);return e?e[1]:!1},get:function(e){return new RegExp(e+"=([^;]+)","i").test(window.decodeURIComponent(this.getDocumentCookies()))?RegExp.$1:null},set:function(e,t,n){var o=new Date;o.setTime(o.getTime());var i=n;i&&(i=1e3*i*60*60*24);var a=new Date(o.getTime()+i),r=e+"="+t+";path=/"+(i?";expires="+a.toGMTString():"")+";domain=.nytimes.com";this.setDocumentCookies(r)},remove:function(e,t,n,o){var i=e+"=xxx"+(t?";path="+t:";path=/")+(n?";domain="+n:";domain=.nytimes.com")+(o?";secure":"")+"; expires=Thu, 01 Jan 1970 00:00:01 GMT;";

this.setDocumentCookies(i)},getDocumentCookies:function(){return document.cookie},setDocumentCookies:function(e){document.cookie=e},getMtrabValues:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("Please specify correct array to process");var t="";return e.filter(function(e){return e&&e.name&&e.variation}).map(function(e,n,o){var i=n===o.length-1;t+=e.name+"="+e.variation,i||(t+="|")}),t},setOrRemoveMtrabCookie:function(e){var t="[object Array]"===Object.prototype.toString.call(e)?e:[e],n=this.getMtrabValues(t);n&&"NaN"!==n?this.set("mtrab",n):this.remove("mtrab")}}}),function(e){"function"==typeof define&&define.amd?define("ecomm/logger",["ecomm/url","ecomm/cookies"],function(t,n){return e(t,n)}):"object"==typeof NYTD&&(NYTD.Ecomm=NYTD.Ecomm||{},NYTD.Ecomm.Logger=e(NYTD.Ecomm.Url,NYTD.Ecomm.Cookies))}(function(e,t){var n=void 0,o=function(){function o(){_classCallCheck(this,o),this.debugQueryString=e.getParameter("debug"),this.debugCookie=t.get("mtr-debug")}return _createClass(o,[{key:"getConsole",value:function(){return window.console}},{key:"isDebugMode",value:function(){return!(!this.debugCookie&&void 0===this.debugQueryString)}},{key:"log",value:function(e){return"string"==typeof e&&""!==e&&this.isDebugMode()?(this.getConsole().log("[mtr.js] "+e),!0):!1}}],[{key:"getInstance",value:function(){return void 0===n&&(n=new o,n.constructor=null),n}}]),o}();return o}),function(e){if("function"==typeof define&&define.amd)define("ecomm/utils",["jquery/nyt","ecomm/logger","ecomm/url"],function(t,n,o){var i=n.getInstance();return e(t,"NYT5",i,o)});else if("object"==typeof NYTD){var t=NYTD.Ecomm.Logger.getInstance();NYTD.Ecomm=NYTD.Ecomm||{},NYTD.Ecomm.Utils=e(NYTD.jQuery||window.jQuery,"NYT4",t,NYTD.Ecomm.Url)}}(function(e,t,n,o){var i={getLink:function(e){return e.is("a")?e:e.parents("a").eq(0)},isHrefValid:function(e){var t=this.getLink(e).attr("href"),n=/^javascript:|^#|^mailto:/gim,o=!0;return(!t||t.match(n))&&(o=!1),o},runWhenReady:function(e,t,n,o,i){var a=i||5;setTimeout(function r(){e()?t():--a?setTimeout(r,o):n&&n()},o)},getLocation:function(){return window.location},setLocation:function(e){window.location.href=e},isNYT5Env:function(){var e=document.getElementsByName("sourceApp"),t={"nyt-v5":!0,blogs:!0};return"undefined"!=typeof e[0]&&e[0].getAttribute("content")in t},parseAds:function(t){var o="",i="",a={campaigns:o,creatives:i};return t&&t.ads&&(e.each(t.ads,function(e,t){t.campaign&&(o+=t.campaign),i+=t.creative}),a={campaigns:o,creatives:i}),n.log("[utils module] parseAds: "+a),a},appendAds:function(t,o){var i=this.parseAds(t),a=o&&o instanceof e&&o.length>0?o:e("body");return a.append(i.creatives),n.log("[utils module] appendAds: "+i.campaigns),i.campaigns},debounce:function(e,t){var n=null;return function(){var o=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(o,i)},t)}},getNytVersion:function(){return t},isSlideShowApp:function(){return e("html").hasClass("app-slideshow")},checkStringWithRegexp:function(e,t){if(!e||!t)throw new Error("checkStringWithRegexp(): both params should be specified");if("string"!=typeof t||"string"!=typeof e)throw new TypeError("checkStringWithRegexp(): use string as both parameters");var n=new RegExp(e,"i");return n.test(t)},removeGatewayHash:function(){var e=this.getLocation(),t=e.href.replace(/(\?|&)(gwh|gwt)=([^&]+)/gi,"");return e.replace(t),t},addGatewayHash:function(e,t,n){var i="";if(!e)return i;var a=this.getLocation(),r=t?"pay":"regi",l=window.decodeURIComponent(a.href).split("#");l=l.length>1?"#"+l[1]:null;var s=n?"&assetType="+n:"",c="mtrref="+o.getDomain(document.referrer)+"&gwh="+e+"&gwt="+r+s;return i=a.search?a.href+"&"+c:a.href+"?"+c,i=l?i.replace(l,"")+l:i,a.replace(i),i},getGatewayHashFromUri:function(){var e=window.decodeURIComponent(this.getLocation().search);return/gwh=([^&]+)/.test(e)?RegExp.$1:""},cleanUrlFromQueryAndHashes:function(){return this.getLocation().href.replace(/\b(\?|\#).+/g,"")},onEscapeKey:function(e){27===e.keyCode&&e.preventDefault()}};return i}),function(e){if("function"==typeof define&&define.amd)define("ecomm/etTracker",["jquery/nyt","ecomm/utils","ecomm/url","ecomm/cookies","ecomm/logger"],function(t,n,o,i,a){var r=a.getInstance();return e(t,n,o,i,r)});else if("object"==typeof NYTD){var t=NYTD.Ecomm.Logger.getInstance();NYTD.Ecomm=NYTD.Ecomm||{},NYTD.Ecomm.EtTracker=e(NYTD.jQuery||window.jQuery,NYTD.Ecomm.Utils,NYTD.Ecomm.Url,NYTD.Ecomm.Cookies,t)}}(function(e,t,n,o,i){var a=function(){function a(e,t,n){_classCallCheck(this,a),this.config=e,this.$container=e.$container,this.module=e.module,this.region=e.region,this.isDefaultLoaded=n,this.meterCount=e.meterCount||a.getMeterPageCount(),this.contentId=e.campaignName||e.contentId||"",this.skipAnchorTracking=e.skipAnchorTracking||window.NYToptly&&window.NYToptly.skipMtrAnchorTrackingParams||!1,e.isInTest||(this.init(e,t),this.updateAnchorETParamsHandler())}return _createClass(a,[{key:"init",value:function(o,a){i.log("[EtTracker module] init"),this.moduleInteractions=[{selector:".login-modal-trigger",tagxEvent:"login-click",action:"click",etParamKey:"modalLogin"},{selector:".registration-modal-trigger",tagxEvent:"regi-click",action:"click",etParamKey:"modalRegi"}];var r=n.parseUri(document.referrer);if(this.trackingParams={common:{version:"meter at "+this.meterCount,module:this.module,pgtype:t.pageType,region:this.region,contentId:this.contentId,mediaId:this.getMediaId(),referrer:r.host+r.path,priority:!0},load:{action:"Impression",eventName:"Impression"},close:{action:"click",eventName:"Dismiss "+this.module},modalRegi:{module:this.module+"-Regi",action:"click",eventName:"regi-click"},modalLogin:{module:this.module+"-Login",action:"click",eventName:"login-click"},links:{module:this.module+"-Links",action:"click",contentCollection:this.module.toLowerCase()+"-links-click"}},this.trackingParams=e.extend(!0,{},this.trackingParams,o.trackingParams),this.moduleInteractions=this.moduleInteractions.concat(o.moduleInteractions||[]),this.isDefaultLoaded&&this.record(this.module.toLowerCase()+"-load",e.extend({},this.trackingParams.common,this.trackingParams.load),"impression"),this.skipAnchorTracking||this.setAnchorTracking(),a){var l=this.trackingParams,s=this.module;a.setTrackingParams(l,s)}this.setupModuleInteractions()}},{key:"updateAnchorETParamsHandler",value:function(){var t=this;e(document).on(this.module+".updateAnchorETParams",function(){i.log("[EtTracker module] updateAnchorETParamsHandler listener"),t.addAnchorTracking(t.$container,t.trackingParams)})}},{key:"getMediaId",value:function(){var t=e.trim(this.$container.find(".adxInfo, .mktInfo").text()),n="";return t&&/creative:/.test(t)&&(n=t.replace(/.*creative:\s([^,]*).*/,"$1"),n=n.indexOf(" -- ")?e.trim(n.split(" -- ")[0]):n),n}},{key:"setupModuleInteractions",value:function(){for(var e=this,t=this.moduleInteractions||[],n=[],o=0;o<t.length;o++){var i=t[o].action;"click"===i&&(this.moduleInteractions[o].action="mouseup",i="mouseup"),-1===n.indexOf(i)&&n.push(i)}n.forEach(function(t){e.listenTo(t)})}},{key:"listenTo",value:function(e){var t=this;this.$container.on(e,function(e){t.handle(e)})}},{key:"isSelector",value:function(e,t){return e.is(t)||!!e.parents(t).length}},{key:"handle",value:function(t){for(var n=0;n<this.moduleInteractions.length;n++){var o=this.moduleInteractions[n],i=e(t.target);if(this.isSelector(i,o.selector)&&o.action===t.type){var a=3===t.which;a||(this.track(o.tagxEvent,o.etParamKey),o.callback&&"function"==typeof o.callback&&o.callback(t))}}}},{key:"setAnchorTracking",value:function(){var t=this;i.log("[EtTracker module] setAnchorTracking"),this.addAnchorTracking(this.$container,this.trackingParams),e(document).on(this.module+".updateAnchorETParams",function(){i.log("[EtTracker module] setAnchorTracking listener"),t.addAnchorTracking(t.$container,t.trackingParams)})}},{key:"addAnchorTracking",value:function(t,n){var o=this;if(i.log("[EtTracker module] addAnchorTracking"),!(t instanceof e)||"object"!=typeof n)throw new Error("Please specify both params with correct types and values");t.find("a").on("click",function(){o.processLinks(e(this),n)})}},{key:"processLinks",value:function(o,a){if(i.log("[EtTracker module] processLinks -- selector: "+o),!o||!a||"object"!=typeof o||"object"!=typeof a)throw new Error("Please specify both params with correct types and values");var r=e(o),l=a;if(t.isHrefValid(r)){var s=e.extend({},l.common,l.links);i.log("[EtTracker module] processLinks -- tagxArgs: "+JSON.stringify(s)),n.processUrlHref(r,s)}}},{key:"track",value:function(t,n,o){var i=this.trackingParams||{},a=e.extend({},i.common||{},i[n],o||{});this.record(t,a,"interaction")}},{key:"trackMeterUpdate",value:function(e){this.record("nytd:meter:viewedCountUpdated",{v:e})}},{key:"record",value:function(e,n,o){t.runWhenReady(function(){return"TAGX"in window},function(){i.log("[EtTracker module] -- TAGX Tracking Call: "+e+" -- "+(o||"")+" -- "+JSON.stringify(n)),TAGX.EventProxy.trigger(e,n,o)},null,1e3,10)}}],[{key:"getMeterPageCount",value:function(){var e=o.get("nyt-m")||"",t=e.match(/v=i\.([0-9]+)/);return t&&t[1]?parseInt(t[1],10):null}}]),a}();return a}),function(e){"function"==typeof define&&define.amd?define("ecomm/overlay",["jquery/nyt","ecomm/utils"],function(t,n){return e(t,n)}):"object"==typeof NYTD&&(NYTD.Ecomm.Overlay=e(NYTD.jQuery||window.jQuery,NYTD.Ecomm.Utils))}(function(e,t){var n=function(){function n(){_classCallCheck(this,n),this.imageHost=window.location.host.indexOf(".stg.")>0?"https://static.stg.nytimes.com":"https://static01.nyt.com"}return _createClass(n,[{key:"add",value:function(e){var t=n.getStyles();n.display(e,t,n.blockContent)}}],[{key:"getStyles",value:function(){var e=void 0,n=t.isSlideShowApp(),o=void 0;return"NYT5"!==t.getNytVersion()||n?("NYT4"===t.getNytVersion()||n)&&(o="background: transparent;\n                    background:-moz-linear-gradient(center bottom , #000, transparent);\n                    background:-ms-linear-gradient(top, transparent, black);\n                    background: -webkit-gradient(linear, left bottom, left top, from(#000), to(transparent));\n                    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000010', endColorstr='#000000')"):o="background: transparent; \n                    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwLjQiLz4KICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiBmaWxsPSJ1cmwoI2dyYWQtdWNnZy1nZW5lcmF0ZWQpIiAvPgo8L3N2Zz4=);\n                    background: -moz-linear-gradient(top, rgba(255,255,255,0.4) 0%, rgba(255,255,255,1) 100%);\n                    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(255,255,255,0.4)), color-stop(100%,rgba(255,255,255,1)));\n                    background: -webkit-linear-gradient(top, rgba(255,255,255,0.4) 0%,rgba(255,255,255,1) 100%); \n                    background: -o-linear-gradient(top, rgba(255,255,255,0.4) 0%,rgba(255,255,255,1) 100%); \n                    background: -ms-linear-gradient(top, rgba(255,255,255,0.4) 0%,rgba(255,255,255,1) 100%); \n                    background: linear-gradient(to bottom, rgba(255,255,255,0.4) 0%,rgba(255,255,255,1) 100%)",e=o+";",("NYT4"===t.getNytVersion()||document.querySelector("html").classList.contains("page-interactive-blank"))&&(e+=" z-index: 1000000040;"),e}},{key:"display",value:function(t,o,i){return document.body&&document.body.firstChild?(e(t).attr("style",o+"position:fixed;top:0;bottom:0;left:0;right:0;"),void(i&&i())):void n.display(t,o,i)}},{key:"stopScrolling",value:function(){window.scroll(0,0),e("body").css({overflow:"hidden",margin:"0 0 85px 0","padding-right":"15px"}),e("html").css({overflow:"hidden"}),e(document).off("keypress keydown keyup touchmove"),e(document).on("keypress keydown keyup",function(e){return e.keyCode in{37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",36:"HOME",35:"END",33:"PAGEUP",34:"PAGEDOWN"}?(e.preventDefault(),!1):void 0}),window.Event&&"function"==typeof Event.stopObserving&&(Event.stopObserving(document,"keydown"),Event.stopObserving(document,"keyup"),Event.stopObserving(document,"keypress"),Event.stopObserving(window,"keydown"),Event.stopObserving(window,"keyup"),Event.stopObserving(window,"keypress"))}},{key:"removeNYTClean",value:function(){e("script").each(function(){return e(this).attr("src")&&e(this).attr("src").toLowerCase().indexOf("euri.ca")>0?(window.location.reload(),!1):void 0})}},{key:"blockContent",value:function(){var e=function(){n.stopScrolling(),n.removeNYTClean(),n.scrap()};e(),setInterval(e,1e3)}},{key:"scrap",value:function(){var t=["#article .articleInline","#article #readerscomment","#article .articleFooter","#article .authorIdentification","#article #articleExtras","#article .articleBottomExtra","#article .emailAlertModule","#article #pageLinks","#twitter-widget-0",".videoplayerContainer","iframe",".slideShowModule","#subscribeCallToAction",".comments-panel","#story figure"].join(","),n=["#optimizelyIframe","figure.layout-horizontal-full-bleed",".has-vertical-full-bleed",".layout-vertical-full-bleed",".has-vertical-full-bleed #story figure"].join(",");e(t).not(n).remove(),e(["#article .articleBody p","#content .entry-content p","#content .postContent p","#story .story-body-text"].join(",")).each(function(t,n){var o=1,i=e(n);if(0===t){var a=i.html();a.length&&a.length<400&&(o=2)}if(t===o){var r=e('<p id="subscribeCallToAction" style="text-align: center; margin-top: 28px; font-family: arial,helvetica,sans-serif; font-size: 1.2em; font-weight: bold;"><a  data-content-collection="GWtoDSLP" data-content-placement="1" class="applicationButtonLt" href="https://www.nytimes.com/articlegate" style="width: 250px; padding: 7px 25px !important; font-weight: bold; color: #004276; text-decoration: none"><span>To see the full article, subscribe here.</span></a></p>');r.insertAfter(i)}else t>o&&i.remove()})}}]),n}();return n}),function(e){"function"==typeof define&&define.amd?define("auth/optimizelyGateway",["jquery/nyt","auth/gateway/creatives","ecomm/utils","ecomm/cookies","ecomm/url","ecomm/overlay","ecomm/etTracker","ecomm/logger"],function(t,n,o,i,a,r,l,s){return e(t,n,o,i,a,r,l,s)}):"object"==typeof NYTD&&(NYTD.OptimizelyGateway=e(NYTD.jQuery||window.jQuery,NYTD.GatewayCreatives,NYTD.Ecomm.Utils,NYTD.Ecomm.Cookies,NYTD.Ecomm.Url,NYTD.Ecomm.Overlay,NYTD.Ecomm.EtTracker,NYTD.Ecomm.Logger))}(function(e,t,n,o,i,a,r,l){var s=l.getInstance(),c=function(){function l(){_classCallCheck(this,l),this.wwwHost="https://www.nytimes.com",this.lpRedirectUrl="https://www.nytimes.com/subscriptions/Multiproduct/lp8HYKU.html?campaignId=6KYF6",this.etTracker=null,this.timeoutReps=100,this.isDefaultLoaded=!1,this.debugFlag=s.isDebugMode()}return _createClass(l,[{key:"showDefaultCreative",value:function(){return this.isDefaultLoaded=!0,this.displayCreatives(t.defaultGateway,"defaultGateway")}},{key:"buildCreative",value:function(e){var t=['<div id="gatewayCreative" class="z-index-gateway-overlay">','<div id="gatewayUnit" style="position:fixed;bottom:80px;width:100%;">'].concat(e||"").concat(["</div>","</div>"]).join("");return t}},{key:"addCreative",value:function(t){var i=this,a=i.buildCreative(),r=e('meta[name="sourceApp"]').attr("content"),c="blogs"===r?300:100;this.mtrData=t,this.mtrData.threshold=o.get("nyt-m").match(/t=i\.([0-9]+)/)[1],n.runWhenReady(function(){return window.optly_events&&window.optly_events.gateway},function(){s.log("[OptimizelyGateway module] -- Optimizely Gateway loaded."),l.appendToBody(a,function(){i.showOverlayAndCreative("optimizelyGateway")})},function(){window.innerWidth>750?(s.log("[OptimizelyGateway module] -- Optimizely Gateway failed, loading default."),i.showDefaultCreative()):n.setLocation(i.lpRedirectUrl)},c,50)}},{key:"displayCreatives",value:function(e,t){var n=this;if(!e||"string"!=typeof e)throw new Error("please specify correct adCreatives parameter");var o=n.buildCreative(e);l.appendToBody(o,function(){n.showOverlayAndCreative(t)})}},{key:"initializeTagxTracker",value:function(t,n){var o=e.trim(e(e("#gatewayUnit .adxInfo, #gatewayUnit .mktInfo")[0]).text()),i=n,a=this.mtrData,l=this.isDefaultLoaded;o&&/campaign:/.test(o)&&(i=o.replace(/.*campaign:\s([^,]*).*/,"$1"));var s={$container:t,module:"Gateway",region:"FixedCenter",trackingParams:{common:{contentId:i}}};this.etTracker=new r(s,a,l)}},{key:"showOverlayAndCreative",value:function(t){var n=this,o=e("#gatewayCreative");e(".gw-loginlink").each(function(){var t=e(this).attr("href"),n=i.parseCurrentUri();t=i.appendParamsToUrl(t,{URI:n.protocol+"://"+n.host+n.path}),e(this).attr("href",t)}),setTimeout(function(){window.optly_events&&"Killed"!==window.optly_events.gateway&&"NYT5"!==window.optly_events.gateway&&n.initializeTagxTracker(o,t),e("#overlay").fadeIn(),o.fadeIn()},200)}}],[{key:"appendToBody",value:function(t,n){if(!t||"string"!=typeof t)throw new Error("appendToBody(): Specify correct html content to add");if(document.body){var o=new a;e("html > body").append(t),o.add("#gatewayCreative"),"function"==typeof n&&n()}else setTimeout(function(){l.appendToBody(t,n)},100)}}]),l}();return c}),function(e){"function"==typeof define&&define.amd?define("auth/messages",[],function(){return e()}):"object"==typeof NYTD&&(NYTD.MtrMessages=e())}(function(){return{logout:'<style>.log-in-again{position:fixed;z-index:1000000101;margin:0;padding:10px 0 15px;left:0;bottom:0;width:100%;border-top:1px solid #333;background-color:#fff;display:flex;font-family:nyt-franklin,helvetica,arial,sans-serif;font-weight:500;font-size:14px;line-height:1em;color:#333;flex-flow:row nowrap;justify-content:space-between;align-items:center;max-height:0;overflow-y:hidden;transform:translateY(100%);opacity:0;transition:all 250ms ease-in}.log-in-again-note{flex:1 1 auto;padding:0 15px 7px}.log-in-again-note .accent{font-weight:700}.log-in-again-note a{font:inherit;color:#2C6695;text-decoration:none}@media only screen and (min-width:768px) and (max-width:999999999px){.log-in-again-note{padding:0 0 7px 31px}.log-in-again-note-container{width:705px;margin:0 auto}}.log-in-again-close{flex:0 0 32px}.log-in-again-close button{cursor:pointer;border:none;background-color:transparent;background-image:none;-webkit-box-shadow:none;box-shadow:none;box-sizing:content-box;padding:.25em;margin:0;line-height:1em}.log-in-again-close button *{font-size:24px;font-family:helvetica,sans-serif;font-weight:100;color:#aaa}.open{max-height:100px;transform:translateY(0);opacity:1}</style><div class="log-in-again open"><div class="log-in-again-note"><div class="log-in-again-note-container"><span class="accent">You have been logged out</span> because your session expired. For full access, please <a href="https://myaccount.nytimes.com/auth/login">log in again</a>.</div></div><div class="log-in-again-close"><button class="log-in-again-close-button"><span>&times;</span></button></div></div>'}}),function(e){if("function"==typeof define&&define.amd)define(["jquery/nyt","auth/optimizelyGateway","ecomm/utils","ecomm/url","ecomm/cookies","ecomm/etTracker","ecomm/logger","auth/messages"],function(t,n,o,i,a,r,l,s){return e(t,n,o,i,a,r,l,s)});else if("object"==typeof NYTD){var t=NYTD;t.Meter=e(t.jQuery||window.jQuery,t.OptimizelyGateway,t.Ecomm.Utils,t.Ecomm.Url,t.Ecomm.Cookies,t.Ecomm.EtTracker,t.Ecomm.Logger,t.MtrMessages)}}(function(e,t,n,o,i,a,r,l){var s=[],c=void 0,d=function(){function d(){_classCallCheck(this,d);var t=o.getLocationHref();this.isStg=/stg/.test(t),this.isDebugMode=/debug/.test(t),this.meterSvc=this.isStg?"https://meter-svc.stg.nytimes.com/meter.js?&callback=?":"https://meter-svc.nytimes.com/meter.js?callback=?",this.validateSession=this.isStg?"https://myaccount.stg.nytimes.com/svc/meter/validate-session":"https://myaccount.nytimes.com/svc/meter/validate-session",this.clientId="meter.fe",this.currentCleanUrl=n.cleanUrlFromQueryAndHashes(),this.prevMeterCount=d.getMeterPagesCount(),this.logger=new r,d.meterReady=e.Deferred(),d.trackingParams={}}return _createClass(d,[{key:"init",value:function(){var t=this;if(e(document).on("popstate",function(){t.onUrlChange()}),d.isErrorPage())return e(document).off("keydown",n.onEscapeKey),!1;var o=n.getGatewayHashFromUri(),i=d.getCookieHash();o?o&&!i||o!==i?n.removeGatewayHash():o&&i&&o===i&&(t.loadGateway(),t.updateUserState(),d.meterReady.resolve()):t.checkMeter()}},{key:"onUrlChange",value:function(){var e=n.cleanUrlFromQueryAndHashes();this.currentCleanUrl!==e&&(this.checkMeter({url:n.getLocation().href,referrer:this.currentCleanUrl}),this.currentCleanUrl=e)}},{key:"updateUserState",value:function(){return n.isNYT5Env()?!1:void e.ajax({dataType:"jsonp",url:this.meterSvc,data:{url:n.getLocation().href},success:function(t){t.loggedIn&&e("html").addClass("user-logged-in")}})}},{key:"loadGateway",value:function(){var n=void 0;return d["final"]=!0,e(document).trigger("NYTD:MeterFinal",d),n=new t,n&&n.addCreative(d),n}},{key:"checkMeter",value:function(t){var o=t||{url:n.getLocation().href,referrer:document.referrer};e(document).on("keydown",n.onEscapeKey),d.loaded=!1,this.get(o||{})}},{key:"getAbtestCookie",value:function(){var e=i.get("mtrab");return e&&(e=e.replace(/\|/g,"$"),e=encodeURIComponent(e),e=e.replace(/%3D/g,"=")),e}},{key:"get",value:function(t){var o=this,i=t&&t.url?t.url:n.getLocation().href,a=t&&null!==t.referrer&&void 0!==t.referrer?t.referrer:n.getLocation().href;t&&t.callback&&s.push(t.callback);var r=e("meta").filter('[name="channels"]').attr("content"),l="",c=void 0;"undefined"!=typeof r&&(l="&channels="+encodeURIComponent(r));var p=this.getAbtestCookie();p&&(l+="&"+p),c=this.meterSvc+l,e.ajax({dataType:"jsonp",url:c,data:{url:i,referer:a},success:function(e){o.onMeterLoaded(e,t,i)},error:function(e,t,n){o.logger.log(n),d.meterReady.reject()}})}},{key:"onMeterLoaded",value:function(t,o,r){var s=void 0,c=this.validateSession,p=this.clientId;return this.etTracker=new a({$container:e("body"),module:"meter",skipAnchorTracking:!0},d,!0),t.v&&t.v!==this.prevMeterCount&&(this.etTracker.meterCount=t.v,this.etTracker.trackMeterUpdate(t.v)),t.assetType&&(s=t.assetType),e("head").append('<meta name="WT.z_cad" content="'+(t.counted?"1":"0")+'" /> '),parseInt(t.v,10)>parseInt(t.t,10)&&i.setOrRemoveMtrabCookie(t.ab),t.hitPaywall||t.hitRegiwall?void n.addGatewayHash(t.hash,t.hitPaywall,s):(t.nytsNeedsRefresh&&e.ajax({url:c,headers:{client_id:p},type:"POST",dataType:"json",success:function(t){"Y"===t.data.need_relogin&&!function(){var t=e("<div class='mtr-message-container'></div>");t.append(l.logout),e("body").append(t);new a({$container:e(".mtr-message-container"),module:"session-refresh",skipAnchorTracking:!0,contentId:"Re-login session refresh",moduleInteractions:[{selector:".log-in-again-close-button",action:"click",tagxEvent:"session-refresh-close",etParamKey:"close",callback:function(){t.on("click",".log-in-again-close-button",function(t){t.preventDefault(),e(".log-in-again").removeClass("open")})}}]},d,!0)}()},xhrFields:{withCredentials:!0}}),this.completeInitialization(t,r,s),void d.meterReady.resolve())}},{key:"fillResponseObject",value:function(e,t,n,o){if(!e||!t)throw new Error("Please specify all required params.");var i=d.getMeterPagesCount(),a=o||d;return a.loaded=!0,a["final"]=!0,a.meterOn=e.meter,a.gatewayOn=e.gateway,a.hitPaywall=e.hitPaywall,a.hitRegiwall=e.hitRegiwall,a.cookieValid=e.isCookieValid,a.isLoggedIn=e.loggedIn,a.gatewayExempt=e.gatewayExempt,a.pageCount=i,a.url=t,a.assetType=n,a.counted=e.counted,a.threshold=e.t,a}},{key:"setUserLoggedInFlag",value:function(t){t.loggedIn&&e("html").addClass("user-logged-in")}},{key:"executeCallbacks",value:function(){e.each(s,function(e,t){t(d)}),s=[]}},{key:"triggerMeterHasBeenLoadedEvents",value:function(){e(document).trigger("NYTD:MeterLoaded",d),e(document).trigger("NYTD:MeterFinal",d)}},{key:"stopBlockingEscapeKey",value:function(){e(document).off("keydown",n.onEscapeKey)}},{key:"completeInitialization",value:function(e,t,n){this.fillResponseObject(e,t,n),this.setUserLoggedInFlag(e),this.executeCallbacks(),this.triggerMeterHasBeenLoadedEvents(),this.stopBlockingEscapeKey()}}],[{key:"setTrackingParams",value:function(e,t){d.trackingParams[t]=e}},{key:"getInstance",value:function(){return void 0===c&&(c=new d,c.constructor=null),c}},{key:"isErrorPage",value:function(){var e=document.getElementsByName("PST")[0],t=document.getElementsByTagName("title")[0],n=!1;return t&&t.innerHTML&&(n=/Page Not Found|Page unavailable/i.test(t.innerHTML)),!!(e&&e.content&&e.content.match(/error/i))||n}},{key:"getMeterPagesCount",value:function(){var e=d.processMeterCookie().match(/v=i\.([0-9]+)/);return e&&e[1]?parseInt(e[1],10):null}},{key:"processMeterCookie",value:function(){var e=i.get("nyt-m")||"";return e}},{key:"getCookieHash",value:function(){var e=32;return d.processMeterCookie().substr(0,e)}}]),d}();return c=d.getInstance(),c.init(),d.check=c.checkMeter,d}),function(e){"function"==typeof define&&define.amd?define("ecomm/growlDefault",["jquery/nyt","auth/mtr","ecomm/utils","ecomm/cookies","ecomm/url","ecomm/logger"],function(t,n,o,i,a,r){return e(t,n,o,i,a,r)}):"object"==typeof NYTD&&(NYTD.Ecomm.GrowlDefault=e(NYTD.jQuery||window.jQuery,NYTD.Meter,NYTD.Ecomm.Utils,NYTD.Ecomm.Cookies,NYTD.Ecomm.Url,NYTD.Ecomm.Logger))}(function(e,t,n,o,i,a){var r=function(){function n(){_classCallCheck(this,n),this.logger=new a("Default Growl"),this.growlData={mc2:{ctaURL:"https://myaccount.nytimes.com/register",ctaClass:"link_growl growl-loginlink",copy:"Register now to save, comment and share on NYTimes.com.",button:"Sign Up"},checkmarkIcon:'<svg class="checkmark_icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 26.5"><path class="checkmark_icon_st0" d="M8.7 17.5l2.5-2.6"/><path class="checkmark_icon_st1" d="M11.2 20L21.5 9.7"/></svg>',campaignId:{1:[{selector:"#cta-link-collapsed, .cta-smallScrn",code:"6KY7W"}],2:[{selector:"#cta-link-collapsed, .cta-smallScrn",code:"6KY7Y"}],3:[{selector:"#cta-link-collapsed, .cta-smallScrn",code:"6KY86"}],4:[{selector:"#cta-link-collapsed, .cta-smallScrn",code:"6KY88"}],5:[{selector:"#cta-link-collapsed, .cta-smallScrn",code:"6KY8F"},{selector:"#cta-link-expanded, .cta-smallScrn",code:"6KY8J"}],6:[{selector:"#cta-link-collapsed, .cta-smallScrn",code:"6KY66"}],7:[{selector:"#cta-link-collapsed, .cta-smallScrn",code:"6KY8L"}],8:[{selector:"#cta-link-collapsed, .cta-smallScrn",code:"6KY8R"}],9:[{selector:"#cta-link-collapsed, .cta-smallScrn",code:"6KY8W"}],10:[{selector:"#cta-link-collapsed, .cta-smallScrn",code:"6KY96"},{selector:"#cta-link-expanded, .cta-smallScrn",code:"6KY98"}]}},this.meterCount=t.pageCount,this.meterThreshold=t.threshold,this.meterGrowlcontainer=e(".mtr-growl-container"),this.campaignIdData={},this.container=e(".growl-wrapper"),this.growlState="true",this.preserveCollapsedGrowl=!1}return _createClass(n,[{key:"toggleBug",value:function(){var t=e(".rem-arts-small-container"),n="width: "+t.outerWidth()+"px",o=this;this.preserveCollapsedGrowl=!this.preserveCollapsedGrowl,this.growlState=!this.growlState,t.attr("style",n),e(".tagline-small-container, .cta-login-small-container").fadeToggle(200),this.container.toggleClass("growl_open growl_closed").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){t.removeAttr("style");try{localStorage.setItem("growlState",o.growlState)}catch(e){e.code===DOMException.QUOTA_EXCEEDED_ERR&&0===sessionStorage.length&&o.logger.info("Privet mode detected")}})}},{key:"updateArticleCount",value:function(){var t=this.meterThreshold-this.meterCount;t=t>0?t:0,e(".js-articles-remain-count, .js-smallScrn-meterCount__count, .articles-remain-count, .smallMeterCount-remain-count").html(t),1===t&&e(".articles-remain-copy, .js-smallScrn-meterCount__copy, .articles-remain-copy, .smallMeterCount-remain-copy").html("ARTICLE REMAINING")}},{key:"initialize",value:function(){var t=this;this.userLoggedIn=this.meterGrowlcontainer.data("loggedin"),this.userLoggedIn&&e("html").addClass("user-logged-in"),this.campaignIdData=this.growlData.campaignId[this.meterCount];try{this.growlState=localStorage.getItem("growlState"),this.preserveCollapsedGrowl=!this.growlState}catch(n){n.code===DOMException.QUOTA_EXCEEDED_ERR&&0===sessionStorage.length&&this.logger.error("Privet mode detected")}2===this.meterCount&&this.userLoggedIn===!0&&(this.logger.info("User is logged-in no need to show sign up growl"),this.meterGrowlcontainer.hide()),"false"===this.growlState&&5!==this.meterCount&&this.meterCount<10&&(this.preserveCollapsedGrowl=!0,e(".tagline-small-container, .cta-login-small-container").attr("style","visibility:hidden;"),this.container.addClass("notransition"),this.toggleBug(),this.container[0].offsetHeight,this.container.removeClass("notransition"),e(".tagline-small-container, .cta-login-small-container").removeAttr("style"));var o=function(t){function n(){l.fadeIn(200),d.removeClass("show-medium-inner"),p.removeClass("show-medium-inner"),l.removeClass("getMedium"),c.removeClass("show-medium"),c.addClass("hide-medium"),s.removeClass("hide-small"),s.addClass("show-small")}function o(){l.show(),s.removeClass("show-small"),s.addClass("hide-small"),l.addClass("getMedium"),c.removeClass("hide-medium"),c.addClass("show-medium"),d.addClass("show-medium-inner"),p.addClass("show-medium-inner")}function i(){l.fadeOut(200)}var a=!1,r=!1,l=e(".meter-asset-wrapper"),s=e(".meter-asset-small"),c=e(".meter-asset-medium"),d=e(".cta-callout-medium-section--inner"),p=e(".cta-connect-medium-section--inner");e(".closeAsset").on("click",function(){n()}),e(window).scroll(function(){var l=document.body.offsetHeight-100;e(window).scrollTop()>0&&a===!1?t===!0?(a=!0,o()):(a=!0,n()):0===e(window).scrollTop()||e(window).scrollTop()+e(window).height()<l&&r===!0?(r=!1,n()):e(window).scrollTop()+e(window).height()>l&&(r=!0,i())})};e("#growl_bug").click(function(){t.toggleBug()}),this.updateArticleCount();var a=!1;2===this.meterCount&&(e(".tagline-offer-text").html(this.growlData.mc2.copy),e(".tagline-offer-text-smallScrn").html(this.growlData.mc2.copy),e(".cta-btn").html(this.growlData.mc2.button),e(".cta-smallScrn").html(this.growlData.mc2.button).attr("href",this.growlData.mc2.ctaURL).addClass(this.growlData.mc2.ctaClass),e("#cta-link-collapsed").attr("href",this.growlData.mc2.ctaURL).addClass(this.growlData.mc2.ctaClass)),5===this.meterCount&&(this.container.addClass("meter-5"),a=!0),this.meterCount>9&&(this.container.addClass("meter-10"),a=!0),o(a),i.processUrlHref(e(this.campaignIdData.selector),this.campaignIdData.code),this.container.animate({bottom:"0"},750)}}]),n}();return r}),function(e){var t=function(e,t){var n=e.getInstance(),o="function"==typeof define&&define.amd?require("jquery/nyt"):NYTD.jQuery;o(document).on("NYTD:MeterLoaded",function(e,t){n.init(t)}),t&&t.loaded&&n.init(t)};"function"==typeof define&&define.amd?(define("ecomm/growl",["foundation/hosts","jquery/nyt","auth/mtr","foundation/views/page-manager","ecomm/utils","ecomm/logger","ecomm/url","ecomm/etTracker","ecomm/cookies","auth/gateway/creatives","ecomm/growlDefault"],function(t,n,o,i,a,r,l,s,c,d,p){return e(t,n,o,i,a,r,l,s,c,d,p)}),setTimeout(function(){require(["ecomm/growl","auth/mtr"],function(e,n){t(e,n)})},0)):"object"==typeof NYTD&&(NYTD.AuthGrowl=e(NYTD.Hosts,NYTD.jQuery,NYTD.Meter,void 0,NYTD.Ecomm.Utils,NYTD.Ecomm.Logger,NYTD.Ecomm.Url,NYTD.Ecomm.EtTracker,NYTD.Ecomm.Cookies,NYTD.Ecomm.Creatives,NYTD.Ecomm.GrowlDefault),t(NYTD.AuthGrowl,NYTD.Meter))}(function(e,t,n,o,i,a,r,l,s,c,d){var p=void 0,m=a.getInstance(),g=function(){
function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"init",value:function(e){this.mtrData=e,this.addGrowl()}},{key:"addGrowl",value:function(){var n=this,o=this.mtrData,a=t('meta[name="sourceApp"]').attr("content"),r="blogs"===a?150:100,l=[1,2,3,4,5,6,7,8,9,10],s=-1!==l.indexOf(o.pageCount);return this.close(),m.isDebugMode()||o.gatewayOn&&o.meterOn&&o.counted&&!(o.pageCount>o.threshold)?void i.runWhenReady(function(){return window.optly_events&&e.isOptlyGrowlAdded()},function(){m.log("[Growl module] -- Optimizely Growl loaded."),n.onOptimizelyGrowlLoaded()},function(){s&&(m.log("[Growl module] -- Optimizely Growl failed, loading default."),n.onDefaultGrowlLoaded(c.defaultGrowl))},r,100):!1}},{key:"setGrowlPosition",value:function(){if(!this.$container)return!1;var e=t("#masthead"),n=e.length?e.offset().left:0,o=this.$container.find("#growl-container");n>0?o.css("left",n):o.removeAttr("style")}},{key:"_getPageManager",value:function(){return o}},{key:"attachNYT5Handlers",value:function(){var e=this._getPageManager();return e?(this.setGrowlPosition(),e.listenTo(e,"nyt:page-resize",this.setGrowlPosition),e.listenTo(e,"nyt:page-ready",this.setGrowlPosition),!0):!1}},{key:"onOptimizelyGrowlLoaded",value:function(){var n=this,o=this.mtrData.pageCount,i=t("meta[name='PT']").attr("content");i=i?i.replace(/\s/g,""):"Article";var a=e.getOptlyGrowlContainer(),r=t.trim(a.find(".adxInfo, .mktInfo").text()),l="";return r&&/campaign:/.test(r)&&(l=r.replace(/.*campaign:\s([^,]*).*/,"$1")),this.attachNYT5Handlers(),e.setupTracking({assetInfo:r,campaigns:l,pageType:i,$growlContainer:a,meterCount:o,callback:function(e){n.close(e)}},!1),t(document).trigger("NYTD:AuthGrowlLoaded",{count:o}),!0}},{key:"onDefaultGrowlLoaded",value:function(n){var o=this,a=this.mtrData.pageCount,l=t("html > body"),c=function(){return a!==parseInt(s.getMeterCookieCount(),10)};if(c())return!1;if(!n||!n.ads||!n.ads.Left9)return!1;var p=t("meta[name='PT']").attr("content");p=p?p.replace(/\s/g,""):"Article",this.$container&&this.$container.off("click").remove(),this.$container=t("<div class='mtr-growl-container'></div>"),i.appendAds(n,this.$container),l.append(this.$container);var m=this.$container,g=t.trim(m.find(".adxInfo, .mktInfo").text()),u=new d;return u.initialize(),this.attachNYT5Handlers(),t(".growl-loginlink").each(function(){var e=t(this).attr("href"),n=r.parseCurrentUri();e=r.appendParamsToUrl(e,{URI:n.protocol+"://"+n.host+n.path}),t(this).attr("href",e)}),e.setupTracking({assetInfo:g,campaigns:"default_growl",pageType:p,$growlContainer:m,meterCount:a,callback:function(e){o.close(e)}},!0),n.isDefault&&this.processDefaultGrowl(a),t(document).trigger("NYTD:AuthGrowlLoaded",{count:a}),!0}},{key:"processDefaultGrowl",value:function(e){var n=t("html").hasClass("user-logged-in"),o=t(".mtr-growl-container"),i=this.mtrData.threshold;o.attr({"data-count":e,"data-loggedIn":n,"data-threshold":i})}},{key:"close",value:function(e){var t=this;return this.$container?(this.$container.fadeOut("slow",function(){t.$container&&(t.$container.unbind("click"),t.$container.remove())}),void(e&&e.preventDefault())):!1}}],[{key:"getInstance",value:function(){return void 0===p&&(p=new e,p.constructor=null),p}},{key:"isGrowlCampaign",value:function(e){return i.checkStringWithRegexp("growl",e)}},{key:"isInterstitialCampaign",value:function(e){return i.checkStringWithRegexp("interstitial",e)}},{key:"setupTracking",value:function(t,o){m.log("[Growl module] -- setupTracking: "+t);var a=void 0,r={$container:t.$growlContainer,module:"Growl",region:"FixedBottom",campaignName:t.campaigns,meterCount:t.meterCount,trackingParams:{expand:{eventName:"adExpansion",action:"hover"}},moduleInteractions:[{selector:".nytdGrowlNotifyCross",action:"click",tagxEvent:"growl-close",etParamKey:"close",callback:t.callback}]},s={$container:t.$growlContainer,module:"Interstitial",region:"FixedCenter",pgtype:t.pageType,campaignName:t.campaigns,meterCount:t.meterCount,moduleInteractions:[{selector:".nytdGrowlNotifyCross",action:"click",tagxEvent:"interstitial-close",etParamKey:"close",callback:t.callback}]};e.isGrowlCampaign(t.assetInfo)?(a=new l(r,n,o),t.$growlContainer.on("growl.expandable",function(){t.$growlContainer.on("mouseenter",i.debounce(function(){a.track("growl-expand","expand")},300)).off("growl.expandable")})):e.isInterstitialCampaign(t.assetInfo)&&(a=new l(s,n,o)),this.etTracker=a}},{key:"isOptlyGrowlAdded",value:function(){return t("#Growl_optly").children().length||t("#Interstitial_optly").children().length}},{key:"getOptlyGrowlContainer",value:function(){var e=void 0;return t("#Growl_optly").children().length?e=t("#Growl_optly"):t("#Interstitial_optly").children().length&&(e=t("#Interstitial_optly")),e}}]),e}();return g});
